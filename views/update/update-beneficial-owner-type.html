{% extends "layout.html" %}

{% set bos = [{
    value: "individualOwner",
    text: "Individual beneficial owner"
  },
  {
    value: "otherLegalOwner",
    text: "Other legal entity beneficial owner"
  },
  {
    value: "governmentOrPublicOwner",
    text: "Government or public authority beneficial owner"
  },
  {
    value: "individualOfficer",
    text: "Individual managing officer"
  },
  {
    value: "corporateOfficer",
    text: "Corporate managing officer"
  }]
%}

{% set beneficial_owners_statement = "ALL_IDENTIFIED_ALL_DETAILS" %}
{% set boTypesLegendText = "Which type of beneficial owner or managing officer do you want to add?" %}
{% set title = "Beneficial owners and managing officers involved in the overseas entity (NOT LIVE)" %}
{% set boTypes = bos %}
{% set whatToAdd = "another beneficial owner or managing officer" %}
{% set hiddenTextValue = "beneficial owners and managing officers" %}
{% set entity_name = entity_name %}
{% set entity_number = entity_number %}

{% if not errors %}
  {% set hasBeneficialOwners = (beneficial_owners_individual and beneficial_owners_individual.length > 0)
    or (beneficial_owners_corporate and beneficial_owners_corporate.length > 0)
    or (beneficial_owners_government_or_public_authority and beneficial_owners_government_or_public_authority.length > 0)
  %}

  {% set hasManagingOfficers = (managing_officers_individual and managing_officers_individual.length > 0)
    or (managing_officers_corporate and managing_officers_corporate.length > 0)
  %}
{% endif %}

{% block pageTitle %}
  {% include "includes/page-title.html" %}
{% endblock %}

{% block backLink %}
  {% include "includes/back-link.html" %}
{% endblock %}

{% block content %}
  {% set addButtonAction = "/update-an-overseas-entity/update-beneficial-owner-type" %}
  {% set noMoreToAddButtonAction = "/update-an-overseas-entity/update-beneficial-owner-type/submit" %}
  {% set beneficialOwnerIndividualUrl = OE_CONFIGS.UPDATE_BENEFICIAL_OWNER_INDIVIDUAL_URL %}
  {% set beneficialOwnerOtherUrl = OE_CONFIGS.UPDATE_BENEFICIAL_OWNER_OTHER_URL %}
  {% set beneficialOwnerGovUrl = OE_CONFIGS.UPDATE_BENEFICIAL_OWNER_GOV_URL %}
  {% set beneficialOwnerRemoveBaseUrl = "/update-an-overseas-entity/confirm-to-remove"%}

  <div class="govuk-grid-row govuk-body">
    <div class="govuk-grid-column-two-thirds">
  
      {% include "includes/list/errors.html" %}
  
      <h1 class="govuk-heading-xl govuk-!-margin-0">{{ title }}</h1>
      <br/>
  
      {% if beneficial_owners_statement != "ALL_IDENTIFIED_ALL_DETAILS" %}
        {{ govukDetails({
          summaryText: "What is a managing officer?",
          attributes: {
            "data-event-id": "what-is-a-managing-officer-details"
          },
          html: "<p>This is a director, manager or company secretary of the overseas entity.</p>"
        }) }}
      {% endif %}

      <span class="govuk-caption-xl govuk-!-padding-bottom-1">{{ entity_name }} - {{ entity_number }}</span>

</div>
<div>
  <br/>
  {% include "includes/list/update-beneficial-owner.html" %}
  <br/>
</div>
<div class="govuk-grid-column-two-thirds">
      <form method="post">
  
        {{ govukRadios({
          errorMessage: errors.beneficial_owner_type if errors,
          idPrefix: "beneficial_owner_type",
          name: "beneficial_owner_type",
          fieldset: {
            legend: {
              text: boTypesLegendText,
              isPageHeading: false,
              classes: "govuk-fieldset__legend--m"
            }
          },
          hint: {
            text: "You can add more later."
          },
          items: boTypes
        }) }}
  
        <button class="govuk-button" data-module="govuk-button" id="add" formaction="{{ addButtonAction }}" >Add<span class="govuk-visually-hidden"> {{ whatToAdd }} </span></button>
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button" id="noMoreToAdd" formaction="{{ noMoreToAddButtonAction }}" >No more <span class="govuk-visually-hidden"> {{ hiddenTextValue }} </span> to add </button>

  
        <!-- Hidden input, needed to submit the beneficial owners statement -->
        {{ govukInput({
          label: {
            text: "Hidden input, needed to submit the beneficial owners statement",
            classes: "govuk-visually-hidden"
          },
          id: "beneficial_owners_statement",
          value: beneficial_owners_statement,
          name: "beneficial_owners_statement",
          classes: "govuk-visually-hidden"
        }) }}

      </form>
  
    </div>
  </div>

{% endblock %}
